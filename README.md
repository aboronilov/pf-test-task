# –¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ –¥–æ–ª–∂–Ω–æ—Å—Ç—å Node.js —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ 

–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ Back end: 
 
‚úÖ–¢–µ—Å—Ç–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ: 

–°–¥–µ–ª–∞—Ç—å –ø—Ä–æ—Å—Ç—É—é —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏/–ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –Ω–∞ Node.js. 

‚òùüèæ–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, —á—Ç–æ–±—ã —Ñ–∏–≥—É—Ä–∏—Ä–æ–≤–∞–ª jwt —Ç–æ–∫–µ–Ω –∏–∑-–∑–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã. –ß—Ç–æ–±—ã –ø–æ—Ç–æ–º –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ —Å–µ—Ä–≤–∏—Å—ã, –∑–Ω–∞—è –ø—É–±–ª–∏—á–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç, –º–æ–≥–ª–∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω, –Ω–µ –æ–±—Ä–∞—â–∞—è—Å—å –∫ –±–∞–∑–∞–º. 

–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π - postgresql. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–π - redis.

‚òùüèæ–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å nest.js. 

## –¢–µ—Ö–Ω–æ–ª–æ–ª–≥–∏–∏

### Backend
* [NodeJS](https://nodejs.org/)
* [NestJS](https://nestjs.com/)
* [PrismaDB](https://www.prisma.io/)
* [PostgreSQL](https://www.postgresql.org/)
* [Redis](https://redis.io/)

## –ü–æ—Ä—è–¥–æ–∫ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
```
git clone https://github.com/aboronilov/pf-test-task
cd ./pf-test-task
yarn
```

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env –∏ –≤ –Ω–µ–≥–æ –ø–æ–º–µ—Å—Ç–∏—Ç—å —Å—Ä–æ–∫–∏:
```
POSTGRES_DB="your_db_name"
POSTGRES_USER="your_user"
POSTGRES_PASSWORD="your_password"

DATABASE_URL="postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@localhost:5432/${POSTGRES_DB}?schema=public"

JWT_SECRET="random string"
```

```
docker compose up redis -d
docker compose up dev-db -d
yarn start:dev
```

## –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (http://localhost:3333) –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è Postman, Insomnia –∏–ª–∏ CUrl:

1) –î–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å POST –∑–∞–ø—Ä–æ—Å –Ω–∞ endpoint **/auth/signup**. –û–Ω –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
{
    "email": "john_doe@gmail.com",
    "password": "secret"
}
```
–ï—Å–ª–∏ –≤–µ—Ä–Ω—É–ª—Å—è —Ç–æ–∫–µ–Ω —Å –∫–æ–¥–æ–º **201**, –∑–Ω–∞—á–∏—Ç –≤—Å–µ —Ö–æ—Ä–æ—à–æ. –í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏:
* –¢–∞–∫–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω
* –ù–µ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –ø–æ–ª–µ–π –∏–ª–∏ –æ–±–∞ —Å—Ä–∞–∑—É
* –ü–µ—Ä–µ–¥–∞—Ç—å –Ω–µ —Ç–æ—Ç —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email

2) –î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å POST –∑–∞–ø—Ä–æ—Å –Ω–∞ endpoint **/auth/signin**. –û–Ω –æ–∂–∏–¥–∞–µ—Ç –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –ø—Ä–µ–¥—É–¥—â–µ–º—É –ø—É–Ω–∫—Ç—É. –ï—Å–ª–∏ –≤–µ—Ä–Ω—É–ª—Å—è —Ç–æ–∫–µ–Ω —Å –∫–æ–¥–æ–º **201**, –∑–Ω–∞—á–∏—Ç –≤—Å–µ —Ö–æ—Ä–æ—à–æ. –í —ç—Ç–æ—Ç –º–æ–º–µ–Ω—Ç –ø–æ –∫–ª—é—á—É **email** –≤ –ë–î redis –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –∫ –Ω–µ–º—É –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è, –Ω–µ –ø—Ä–∏–±–µ–≥–∞—è –∫ –ë–î —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (—Å–æ–≥–ª–∞—Å–Ω–æ –¢–ó). –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç—Ç–æ–º –≤—ã–≤–æ–¥–∏—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å:

![Auth](https://raw.githubusercontent.com/aboronilov/pf-test-task/main/public/clg.png)

–í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏:
* –ù–µ –ø–µ—Ä–µ–¥–∞—Ç—å –æ–¥–Ω–æ –∏–∑ –ø–æ–ª–µ–π –∏–ª–∏ –æ–±–∞ —Å—Ä–∞–∑—É
* –ü–µ—Ä–µ–¥–∞—Ç—å –Ω–µ —Ç–æ—Ç —Ç–∏–ø –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email
* –ü–µ—Ä–µ–¥–∞—Ç—å –Ω–µ–≤–µ—Ä–Ω—ã–µ credentials

3) –î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å GET –∑–∞–ø—Ä–æ—Å –Ω–∞ endpoint **/users/me**. –î–ª—è —ç—Ç–æ–≥–æ –∑–∞–ø—Ä–æ—Å—É –Ω–∞–¥–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ **Authorization** —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º **Bearer ${—Ç–æ–∫–µ–Ω –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –ø—É–Ω–∫—Ç–∞}** - –º–µ–∂–¥—É –Ω–∏–º–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–±–µ–ª. –ï—Å–ª–∏ –≤–µ—Ä–Ω—É–ª—Å—è 200 –∫–æ–¥, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç —Ñ–æ—Ä–º–∞—Ç–∞
```
{
    "id": 4,
    "createdAt": "2023-04-14T00:12:34.879Z",
    "updatedAt": "2023-04-14T00:12:34.879Z",
    "email": "john_doe@gmail.com",
    "firstName": null,
    "lastName": null
}
```
–í–∞–ª–∏–¥–∞—Ü–∏—è –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç –µ—Å–ª–∏ —Ç–æ–∫–µ–Ω –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

4) –î–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –Ω—É–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å PATCH –∑–∞–ø—Ä–æ—Å –Ω–∞ endpoint **/users**. –¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ –æ–∂–∏–¥–∞–µ—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```
{
    "firstName": "John",
    "lastName": "Doe"
}
```
–ï—Å–ª–∏ —É–∫–∞–∑–∞—Ç—å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –Ω–µ –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–∫–µ–Ω –∫ –∑–∞–≥–æ–ª–æ–≤–∫—É –∑–∞–ø—Ä–æ—Å–∞, –æ—Ç—Ä–∞–±–æ—Ç–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –≤–µ—Ä–Ω–µ—Ç—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:
```
{
    "id": 4,
    "createdAt": "2023-04-14T00:12:34.879Z",
    "updatedAt": "2023-04-14T00:52:10.153Z",
    "email": "john_doe@gmail.com",
    "firstName": "John",
    "lastName": "Doe"
}
```




